{"version":3,"file":"static/js/632.5d0afec7.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Profile/Profile.module.css?b512","webpack://samurai-way/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://samurai-way/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/Post/MyPostsContainer.tsx","components/Profile/MyPosts/Status.module.css","components/Profile/MyPosts/ProfileStatusWithHooks.tsx","components/Profile/ProfileDataForm.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"Profile_descriptionBlock__T0wfu\",\"profileDataForm\":\"Profile_profileDataForm__bm2rq\",\"button\":\"Profile_button__j9zEN\"};","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__WnKSr\",\"posts\":\"MyPosts_posts__Ocy+a\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__fe6kd\"};","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\n// let s = {\r\n//     'item': 'Profile_item__TYOiq',\r\n//     'content': 'Profile_content__LWBsZ '\r\n// }\r\n\r\nexport type MessagePropsType = {\r\n    message: string\r\n    likesCount: number\r\n}\r\nconst Post = (props:MessagePropsType) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://www.ochkov.net/wiki/wiki/storage/app/uploads/public/5d7/a08/0c6/5d7a080c6de1b874225893.jpg'/>\r\n            {props.message}\r\n            <div>\r\n                <span>LIKE </span>\r\n                {props.likesCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React, {ChangeEvent} from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {PostsType} from \"../../../redux/profile-reducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../../utils/validators/valodators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\ntype MyPostsType = {\r\n    addPost: (newPost: string) => void\r\n    posts: PostsType[]\r\n    onChange: (e: ChangeEvent<HTMLTextAreaElement>) => void\r\n    messageForNewPost: string\r\n}\r\n\r\ntype PostFormDataType = {\r\n    post: string\r\n}\r\n\r\nconst  maxLength10 =  maxLength(10)\r\n\r\nconst MyPostsForm: React.FC<InjectedFormProps<PostFormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field name={'post'}\r\n                   component={Textarea}\r\n                   validate={[required, maxLength10]}\r\n                   placeholder={'Post message'}\r\n            ></Field>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst PostReduxForm = reduxForm<PostFormDataType>({\r\n    form: 'post'\r\n})(MyPostsForm)\r\n\r\n\r\nconst MyPosts = React.memo( (props: MyPostsType) => {\r\n    const onSubmit = (formData: PostFormDataType) => {\r\n        props.addPost(formData.post)\r\n    }\r\n\r\n    let postElement = props.posts.map(p => <Post\r\n        key={p.id}\r\n        message={p.message}\r\n        likesCount={p.likesCount}/>)\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <PostReduxForm onSubmit={onSubmit}/>\r\n            <div className={s.posts}>\r\n                {postElement}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default MyPosts","import React, {ChangeEvent} from 'react';\r\nimport MyPosts from \"../MyPosts\";\r\nimport {addPostAC, changeNewTextAC} from \"../../../../redux/profile-reducer\";\r\nimport {ReduxStoreRootStateType} from \"../../../../redux/redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\n\r\n// type MyPostsContainerType = {\r\n// messageForNewPost: string\r\n// posts: ProfileType[]\r\n// dispatch: (action: ProfileActionsTypes) => void\r\n// store: StoreType\r\n// }\r\n// const MyPostsContainer = (props: any) => {\r\n//\r\n//\r\n//     return (\r\n//         <StoreContext.Consumer>\r\n//             {\r\n//                 store => {\r\n//                     let state = props.store.getState().profilePage\r\n//\r\n//                     const addPost = () => {\r\n//                         store.dispatch(addPostAC(state.messageForNewPost))\r\n//                     }\r\n//\r\n//                     const onChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n//                         store.dispatch(changeNewTextAC(e.currentTarget.value))}\r\n//\r\n//\r\n//                     return (\r\n//                         <MyPosts addPost={addPost}\r\n//                                  onChange={onChange}\r\n//                                  posts={state.post}\r\n//                                  messageForNewPost={state.messageForNewPost}\r\n//                         />\r\n//                     )\r\n//                 }\r\n//             }\r\n//         </StoreContext.Consumer>\r\n//     )\r\n// }\r\n\r\n\r\nlet mapStateToProps = (state: ReduxStoreRootStateType) => {\r\n    return {\r\n        posts: state.profilePage.post,\r\n        messageForNewPost: state.profilePage.messageForNewPost\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        addPost: (newPost: string) => {\r\n            dispatch(addPostAC(newPost))\r\n        },\r\n        onChange: (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n            dispatch(changeNewTextAC(e.currentTarget.value))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\n\r\nexport default MyPostsContainer","// extracted by mini-css-extract-plugin\nexport default {\"statusBlock\":\"Status_statusBlock__RZ59U\"};","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport s from './Status.module.css'\r\n\r\n\r\ntype StatusType = {\r\n    status: string\r\n    updateStatus: (userId: string) => void\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileStatusWithHooks = (props: StatusType) => {\r\n\r\n    const [editeMode, setEditeMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateMode = () => {\r\n        if(props.isOwner) {\r\n            setEditeMode(true)\r\n        }\r\n    }\r\n\r\n    const deactivateMode = () => {\r\n        setEditeMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editeMode &&\r\n                <div className={s.statusBlock}><b>Status : </b>\r\n                    <span onDoubleClick={activateMode}>{props.status || '------'}</span>\r\n                    {props.isOwner ? <EditIcon onClick={activateMode} fontSize={'small'} color=\"primary\"/> : null}\r\n                </div>\r\n            }\r\n            {editeMode &&\r\n                <div>\r\n                    <input\r\n                        onChange={onStatusChange}\r\n                        onBlur={deactivateMode}\r\n                        autoFocus={true}\r\n                        value={status}\r\n                    />\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../../src/components/common/FormsControls/FormsControls\";\r\nimport {required} from \"../../../src/utils/validators/valodators\";\r\nimport {ContactsType} from \"../../../src/redux/profile-reducer\";\r\nimport {useAppSelector} from \"../../../src/redux/redux-store\";\r\nimport style from \"../../../src/components/common/FormsControls/FormControl.module.css\";\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\n\r\n\r\nexport type FormProfileDataType = {\r\n    fullName: string;\r\n    lookingForAJob: boolean;\r\n    lookingForAJobDescription: string;\r\n    aboutMe: string;\r\n    contacts?: ContactsType | null | undefined\r\n};\r\n\r\ninterface RenderFieldProps {\r\n    input: any;\r\n    label: string;\r\n    type: string;\r\n}\r\n\r\nconst renderField: React.FC<RenderFieldProps> = ({input, label, type}) => (\r\n    <div>\r\n        <label>{label}</label>\r\n        <div>\r\n            <TextField {...input} type={type} variant=\"outlined\"/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n\r\nexport const ProfileDataForm: React.FC<InjectedFormProps<FormProfileDataType>> = (props) => {\r\n    const {handleSubmit, error} = props;\r\n\r\n    const profile = useAppSelector(state => state.profilePage.profile)\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={style.forms}>\r\n                <div className={style.form}>\r\n                    <b>Name </b>\r\n                    <Field\r\n                        name={'fullName'}\r\n                        placeholder={'fullName'}\r\n                        defaultValue={profile?.fullName}\r\n                        component={renderField}\r\n                        validate={[required]}\r\n                    />\r\n                </div>\r\n                <div className={style.form}>\r\n                    <b>Looking for a Job </b>\r\n                    <Field\r\n                        name={'lookingForAJob'}\r\n                        placeholder={'lookingForAJob'}\r\n                        component={Input}\r\n                        type='checkbox'\r\n                    />\r\n                </div>\r\n                <div className={style.form}>\r\n                    <b>My professional skills</b>\r\n                    <Field\r\n                        name={'lookingForAJobDescription'}\r\n                        placeholder={'lookingForAJobDescription'}\r\n                        component={renderField}\r\n\r\n                    />\r\n                </div>\r\n                <div className={style.form}>\r\n                    <b>About me</b>\r\n                    <Field\r\n                        name={'aboutMe'}\r\n                        placeholder={'aboutMe'}\r\n                        component={renderField}\r\n                    />\r\n                </div>\r\n                <div className={style.form}>\r\n                    <b>Contacts</b>\r\n                    <div className={style.contacts}>\r\n                        {profile?.contacts && Object.keys(profile.contacts).map(key => {\r\n                            return (\r\n                                <div className={style.contact} key={key}>\r\n                                    {key}: <Field\r\n                                    name={'contacts.' + key}\r\n                                    placeholder={key}\r\n                                    component={renderField}\r\n                                />\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                {error && <div className={style.formSummaryError}>\r\n                    {error}\r\n                </div>}\r\n                <div className={style.buttonSubmit}>\r\n                    <Button type=\"submit\" color={\"success\"} variant=\"contained\">Save</Button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport const ProfileReduxForm = reduxForm<FormProfileDataType>({\r\n    form: 'edit-profile',\r\n})(ProfileDataForm);\r\n\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './Profile.module.css'\r\nimport MyPostsContainer from \"./MyPosts/Post/MyPostsContainer\";\r\nimport {PostsType, ProfileType} from \"../../redux/profile-reducer\";\r\nimport userPhoto from '../../assets/images/UserIcon.png'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Box from \"@mui/material/Box\";\r\nimport ProfileStatusWithHooks from \"../../../src/components/Profile/MyPosts/ProfileStatusWithHooks\";\r\nimport {FormProfileDataType, ProfileReduxForm} from \"./ProfileDataForm\";\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\r\nimport {Button, IconButton} from \"@mui/material\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (userId: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (data: FormProfileDataType) => void\r\n}\r\n\r\n\r\nconst ProfileInfo = (props: ProfileInfoType) => {\r\n\r\n    let [editMode, setEditMode] = useState<boolean>(false)\r\n\r\n    if (!props.profile) {\r\n        return <Box sx={{display: 'flex'}}>\r\n            <CircularProgress/>\r\n        </Box>\r\n    }\r\n\r\n    const mainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: FormProfileDataType) => {\r\n        props.saveProfile(formData)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img\r\n                    src={props.profile.photos?.large ? props.profile.photos.large : userPhoto}\r\n                />\r\n                {/*{props.isOwner && <input type='file' onChange={mainPhotoSelected}/>}*/}\r\n                {props.isOwner && <label>\r\n                    <input type=\"file\"\r\n                           name='photo'\r\n                           onChange={mainPhotoSelected}\r\n                           style={{display: 'none'}}\r\n                    />\r\n                    <IconButton component=\"span\">\r\n                        <AddAPhotoIcon color=\"primary\"/>\r\n                    </IconButton>\r\n                </label>\r\n                }\r\n            </div>\r\n            <div className={s.descriptionBlock}>\r\n                <ProfileStatusWithHooks isOwner={props.isOwner} status={props?.status} updateStatus={props?.updateStatus}/>\r\n            </div>\r\n            {editMode\r\n                ? <div>\r\n                    <ProfileReduxForm initialValues={props.profile} onSubmit={onSubmit}/>\r\n                    <div className={s.button}>\r\n                        <Button variant=\"outlined\" startIcon={<ArrowBackIcon />}\r\n                                onClick={() => {setEditMode(false)}}>\r\n                            go to profile\r\n                        </Button>\r\n                    </div>\r\n\r\n                    {/*<button onClick={() => {*/}\r\n                    {/*    setEditMode(false)}}>go to profile</button>*/}\r\n                </div>\r\n                : <div>\r\n                    <ProfileData profile={props.profile}\r\n                                 status={props.status}\r\n                                 updateStatus={props.updateStatus}\r\n                                 isOwner={props.isOwner}\r\n                                 goToEditMode={() => {\r\n                                     setEditMode(true)\r\n                                 }}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ninterface ProfilePropsTypeNew {\r\n    profile: ProfileType | null,\r\n    post: PostsType[]\r\n    messageForNewPost: string\r\n    setUsersProfile: (profile: ProfileType) => void\r\n    isAuth: boolean\r\n    status: string\r\n    updateStatus: (userId: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (data: FormProfileDataType) => void\r\n}\r\n\r\n\r\nconst Profile = (props: ProfilePropsTypeNew) => {\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n                isOwner={props.isOwner}\r\n                savePhoto={props.savePhoto}\r\n                saveProfile={props.saveProfile}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype ProfileDataType = {\r\n    profile?: ProfileType | null\r\n    status: string\r\n    updateStatus: (userId: string) => void\r\n    goToEditMode: () => void\r\n    isOwner: boolean\r\n}\r\n\r\n\r\nconst ProfileData = (props: ProfileDataType) => {\r\n    return <div className={s.profileDataForm}>\r\n        <div>\r\n            <b>Name : </b> {props?.profile?.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a Job : </b> {props?.profile?.lookingForAJob ? \"yes\" : \"no\"}\r\n        </div>\r\n        <div>\r\n            <b>My professional\r\n                skills : </b> {props?.profile?.lookingForAJobDescription ? props.profile.lookingForAJobDescription : \"------\"}\r\n        </div>\r\n        <div>\r\n            <b>About me : </b>{props?.profile?.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts </b>\r\n            {props?.profile?.contacts && Object.keys(props?.profile?.contacts).map(key => {\r\n                const contacts = props?.profile?.contacts! as ContactsType\r\n                return (\r\n                    <Contacts\r\n                        key={key}\r\n                        contactTitle={key}\r\n                        contactValue={contacts[key as keyof ContactsType]}\r\n                    />\r\n                );\r\n            })}\r\n        </div>\r\n\r\n        {props.isOwner && <div>\r\n            {<Button variant=\"outlined\" startIcon={<EditIcon />}\r\n                     onClick={props.goToEditMode}>\r\n                Edit\r\n            </Button>}\r\n            {/*{<EditIcon color={\"primary\"} fontSize={\"medium\"} onClick={props.goToEditMode}/>}*/}\r\n            {/*{<button onClick={props.goToEditMode}>edit</button>}*/}\r\n        </div>\r\n\r\n        }\r\n\r\n    </div>\r\n}\r\n\r\ntype ContactsType = {\r\n    contactTitle: string\r\n    contactValue?: string | null\r\n}\r\n\r\nconst Contacts = (props: ContactsType) => {\r\n    return (\r\n        <div>\r\n            <b>\r\n                {props.contactTitle}\r\n            </b>\r\n            : {props.contactValue}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from 'react';\r\nimport {\r\n    getStatusTC,\r\n    PostsType,\r\n    ProfileType, savePhotoTC, saveProfileTC,\r\n    setUsersProfile,\r\n    setUsersProfileTC,\r\n    updateStatusTC\r\n} from \"../../redux/profile-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {ReduxStoreRootStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {FormProfileDataType} from \"../../../src/components/Profile/ProfileDataForm\";\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId as string\r\n            //userId = '28555'\r\n\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n\r\n        this.props.setUsersProfileTC(userId)\r\n        this.props.getStatusTC(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatusTC}\r\n                         savePhoto={this.props.savePhotoTC}\r\n                         saveProfile={this.props.saveProfileTC}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state: ReduxStoreRootStateType): MapStatePropsForRedirectType => ({\r\n    //isAuth: state.auth.isAuth\r\n})\r\n\r\n//AuthRedirectComponent = connect(mapStateToPropsForRedirect)(AuthRedirectComponent)\r\n\r\n// let AuthRedirectComponent = (props: PropsType) => {\r\n//     if(!props.isAuth) return <Redirect to={'/login'}/>\r\n//     return <ProfileContainer {...props}/>\r\n// }\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    post: Array<PostsType>\r\n    messageForNewPost: string\r\n    profile: null | ProfileType\r\n    isAuth: boolean\r\n    status: string\r\n    authorizedUserId: string | null\r\n}\r\n\r\ntype MapStatePropsForRedirectType = {\r\n    // isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    setUsersProfile: (profile: ProfileType) => void\r\n    setUsersProfileTC: (userId: string) => void\r\n    getStatusTC: (userId: string) => void\r\n    updateStatusTC: (status: string) => void\r\n    savePhotoTC: (file: File) => void\r\n    saveProfileTC: (data: FormProfileDataType) => void\r\n}\r\n\r\ntype ProfilePropsType = MapStatePropsType & MapDispatchPropsType // & MapStatePropsForRedirectType\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfilePropsType\r\n\r\nlet mapStateToProps = (state: ReduxStoreRootStateType): MapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    post: state.profilePage.post,\r\n    messageForNewPost: state.profilePage.messageForNewPost,\r\n    isAuth: state.auth.isAuth,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id\r\n})\r\n\r\n// let AuthRedirectComponent = WithAuthRedirect(ProfileContainer)\r\n\r\n// let WithDataContainerComponent = withRouter(AuthRedirectComponent)\r\n//\r\n// export default connect(mapStateToProps, {\r\n//     setUsersProfile,\r\n//     setUsersProfileTC\r\n// })(WithDataContainerComponent)\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        setUsersProfile,\r\n        setUsersProfileTC,\r\n        getStatusTC,\r\n        updateStatusTC,\r\n        savePhotoTC,\r\n        saveProfileTC\r\n    }),\r\n    withRouter,\r\n    // WithAuthRedirect\r\n)(ProfileContainer)"],"names":["props","className","s","src","message","likesCount","maxLength10","maxLength","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","name","component","Textarea","validate","required","placeholder","React","postElement","posts","map","p","id","formData","addPost","post","connect","state","profilePage","messageForNewPost","dispatch","newPost","addPostAC","onChange","e","changeNewTextAC","currentTarget","value","MyPosts","useState","editeMode","setEditeMode","status","setStatus","useEffect","activateMode","isOwner","onDoubleClick","Edit","onClick","fontSize","color","onBlur","updateStatus","autoFocus","renderField","input","label","type","TextField","variant","ProfileReduxForm","error","profile","useAppSelector","style","defaultValue","fullName","Input","contacts","Object","keys","key","Button","ProfileInfo","editMode","setEditMode","Box","sx","display","CircularProgress","photos","large","userPhoto","target","files","length","savePhoto","IconButton","AddAPhoto","initialValues","saveProfile","startIcon","ArrowBack","ProfileData","goToEditMode","lookingForAJob","lookingForAJobDescription","aboutMe","Contacts","contactTitle","contactValue","isAuth","to","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","setUsersProfileTC","getStatusTC","refreshProfile","prevProps","prevState","snapshot","updateStatusTC","savePhotoTC","saveProfileTC","compose","auth","setUsersProfile","withRouter"],"sourceRoot":""}