"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[632],{8632:function(s,e,o){o.r(e),o.d(e,{default:function(){return Y}});var i=o(1413),t=o(5671),n=o(3144),r=o(136),l=o(5716),a=o(2791),c=o(81),u=o(885),d="Profile_descriptionBlock__T0wfu",p="Profile_profileDataForm__bm2rq",h="Profile_button__j9zEN",f="MyPosts_postsBlock__WnKSr",v="MyPosts_posts__Ocy+a",m="Post_item__fe6kd",j=o(184),x=function(s){return(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("img",{src:"https://www.ochkov.net/wiki/wiki/storage/app/uploads/public/5d7/a08/0c6/5d7a080c6de1b874225893.jpg"}),s.message,(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"LIKE "}),s.likesCount]})]})},b=o(6139),g=o(704),Z=o(9155),P=o(1117),k=(0,Z.B)(10),N=(0,g.Z)({form:"post"})((function(s){return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)(b.Z,{name:"post",component:P.gx,validate:[Z.C,k],placeholder:"Post message"}),(0,j.jsx)("button",{children:"Add post"})]})})),C=a.memo((function(s){var e=s.posts.map((function(s){return(0,j.jsx)(x,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)(N,{onSubmit:function(e){s.addPost(e.post)}}),(0,j.jsx)("div",{className:v,children:e})]})})),y=o(8687),S=(0,y.$j)((function(s){return{posts:s.profilePage.post,messageForNewPost:s.profilePage.messageForNewPost}}),(function(s){return{addPost:function(e){s((0,c.Pi)(e))},onChange:function(e){s((0,c.Yx)(e.currentTarget.value))}}}))(C),w=o(8070),_=o(1516),T=o(3239),O=o(6747),A=o(1286),F="Status_statusBlock__RZ59U",I=function(s){var e=(0,a.useState)(!1),o=(0,u.Z)(e,2),i=o[0],t=o[1],n=(0,a.useState)(s.status),r=(0,u.Z)(n,2),l=r[0],c=r[1];(0,a.useEffect)((function(){c(s.status)}),[s.status]);var d=function(){s.isOwner&&t(!0)};return(0,j.jsxs)("div",{children:[!i&&(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)("b",{children:"Status : "}),(0,j.jsx)("span",{onDoubleClick:d,children:s.status||"------"}),s.isOwner?(0,j.jsx)(A.Z,{onClick:d,fontSize:"small",color:"primary"}):null]}),i&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},onBlur:function(){t(!1),s.updateStatus(l)},autoFocus:!0,value:l})})]})},M=o(446),J=o(1205),D=o(9373),E=o(5768),U=function(s){var e=s.input,o=s.label,t=s.type;return(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{children:o}),(0,j.jsx)("div",{children:(0,j.jsx)(E.Z,(0,i.Z)((0,i.Z)({},e),{},{type:t,variant:"outlined"}))})]})},B=(0,g.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,o=s.error,i=(0,M.CG)((function(s){return s.profilePage.profile}));return(0,j.jsx)("form",{onSubmit:e,children:(0,j.jsxs)("div",{className:J.Z.forms,children:[(0,j.jsxs)("div",{className:J.Z.form,children:[(0,j.jsx)("b",{children:"Name "}),(0,j.jsx)(b.Z,{name:"fullName",placeholder:"fullName",defaultValue:null===i||void 0===i?void 0:i.fullName,component:U,validate:[Z.C]})]}),(0,j.jsxs)("div",{className:J.Z.form,children:[(0,j.jsx)("b",{children:"Looking for a Job "}),(0,j.jsx)(b.Z,{name:"lookingForAJob",placeholder:"lookingForAJob",component:P.II,type:"checkbox"})]}),(0,j.jsxs)("div",{className:J.Z.form,children:[(0,j.jsx)("b",{children:"My professional skills"}),(0,j.jsx)(b.Z,{name:"lookingForAJobDescription",placeholder:"lookingForAJobDescription",component:U})]}),(0,j.jsxs)("div",{className:J.Z.form,children:[(0,j.jsx)("b",{children:"About me"}),(0,j.jsx)(b.Z,{name:"aboutMe",placeholder:"aboutMe",component:U})]}),(0,j.jsxs)("div",{className:J.Z.form,children:[(0,j.jsx)("b",{children:"Contacts"}),(0,j.jsx)("div",{className:J.Z.contacts,children:(null===i||void 0===i?void 0:i.contacts)&&Object.keys(i.contacts).map((function(s){return(0,j.jsxs)("div",{className:J.Z.contact,children:[s,": ",(0,j.jsx)(b.Z,{name:"contacts."+s,placeholder:s,component:U})]},s)}))})]}),o&&(0,j.jsx)("div",{className:J.Z.formSummaryError,children:o}),(0,j.jsx)("div",{className:J.Z.buttonSubmit,children:(0,j.jsx)(D.Z,{type:"submit",color:"success",variant:"contained",children:"Save"})})]})})})),z=o(7394),V=o(8086),G=o(3400),L=function(s){var e,o=(0,a.useState)(!1),i=(0,u.Z)(o,2),t=i[0],n=i[1];if(!s.profile)return(0,j.jsx)(O.Z,{sx:{display:"flex"},children:(0,j.jsx)(T.Z,{})});return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("img",{src:null!==(e=s.profile.photos)&&void 0!==e&&e.large?s.profile.photos.large:w}),s.isOwner&&(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"file",name:"photo",onChange:function(e){e.target.files&&e.target.files.length&&s.savePhoto(e.target.files[0])},style:{display:"none"}}),(0,j.jsx)(G.Z,{component:"span",children:(0,j.jsx)(V.Z,{color:"primary"})})]})]}),(0,j.jsx)("div",{className:d,children:(0,j.jsx)(I,{isOwner:s.isOwner,status:null===s||void 0===s?void 0:s.status,updateStatus:null===s||void 0===s?void 0:s.updateStatus})}),t?(0,j.jsxs)("div",{children:[(0,j.jsx)(B,{initialValues:s.profile,onSubmit:function(e){s.saveProfile(e)}}),(0,j.jsx)("div",{className:h,children:(0,j.jsx)(D.Z,{variant:"outlined",startIcon:(0,j.jsx)(z.Z,{}),onClick:function(){n(!1)},children:"go to profile"})})]}):(0,j.jsx)("div",{children:(0,j.jsx)(q,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,goToEditMode:function(){n(!0)}})})]})},q=function(s){var e,o,i,t,n,r;return(0,j.jsxs)("div",{className:p,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Name : "})," ",null===s||void 0===s||null===(e=s.profile)||void 0===e?void 0:e.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a Job : "})," ",null!==s&&void 0!==s&&null!==(o=s.profile)&&void 0!==o&&o.lookingForAJob?"yes":"no"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills : "})," ",null!==s&&void 0!==s&&null!==(i=s.profile)&&void 0!==i&&i.lookingForAJobDescription?s.profile.lookingForAJobDescription:"------"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me : "}),null===s||void 0===s||null===(t=s.profile)||void 0===t?void 0:t.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts "}),(null===s||void 0===s||null===(n=s.profile)||void 0===n?void 0:n.contacts)&&Object.keys(null===s||void 0===s||null===(r=s.profile)||void 0===r?void 0:r.contacts).map((function(e){var o,i=null===s||void 0===s||null===(o=s.profile)||void 0===o?void 0:o.contacts;return(0,j.jsx)(K,{contactTitle:e,contactValue:i[e]},e)}))]}),s.isOwner&&(0,j.jsx)("div",{children:(0,j.jsx)(D.Z,{variant:"outlined",startIcon:(0,j.jsx)(A.Z,{}),onClick:s.goToEditMode,children:"Edit"})})]})},K=function(s){return(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:s.contactTitle}),": ",s.contactValue]})},$=function(s){return s.isAuth?(0,j.jsxs)("div",{children:[(0,j.jsx)(L,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,j.jsx)(S,{})]}):(0,j.jsx)(_.l_,{to:"/login"})},R=o(7781),W=function(s){(0,r.Z)(o,s);var e=(0,l.Z)(o);function o(){return(0,t.Z)(this,o),e.apply(this,arguments)}return(0,n.Z)(o,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUsersProfileTC(s),this.props.getStatusTC(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,o){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{children:(0,j.jsx)($,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusTC,savePhoto:this.props.savePhotoTC,saveProfile:this.props.saveProfileTC}))})}}]),o}(a.Component),Y=(0,R.qC)((0,y.$j)((function(s){return{profile:s.profilePage.profile,post:s.profilePage.post,messageForNewPost:s.profilePage.messageForNewPost,isAuth:s.auth.isAuth,status:s.profilePage.status,authorizedUserId:s.auth.id}}),{setUsersProfile:c.hA,setUsersProfileTC:c.II,getStatusTC:c.GP,updateStatusTC:c.OG,savePhotoTC:c.Tw,saveProfileTC:c.Ms}),_.EN)(W)}}]);
//# sourceMappingURL=632.5d0afec7.chunk.js.map